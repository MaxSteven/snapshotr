<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Snapshotr by artaman</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Snapshotr</h1>
      <h2 class="project-tagline">Nuke snapshot manager</h2>
      <a href="https://github.com/artaman/snapshotr" class="btn">View on GitHub</a>
      <a href="https://github.com/artaman/snapshotr/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/artaman/snapshotr/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="what-is-it" class="anchor" href="#what-is-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is it?</h2>

<p>This is a Nuke snapshot manager which is used to make script versioning more straightforward</p>

<h2>
<a id="what-is-snapshot" class="anchor" href="#what-is-snapshot" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is snapshot?</h2>

<p>It is a backup of script at the specific time with user comment and screenshot<br>
All snapshots are presented in user friendly web-interface</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<ol>
<li><code>cd ~/.nuke &amp;&amp; git clone https://github.com/artaman/snapshotr.git</code></li>
<li>Open <code>~/.nuke/init.py</code> with your favourite editor</li>
<li>Add the following code:</li>
</ol>

<div class="highlight highlight-python"><pre><span class="pl-c">#</span>
<span class="pl-c"># Snapshotr</span>
<span class="pl-c">#</span>
<span class="pl-k">import</span> os, nuke
snapr_path <span class="pl-k">=</span> os.getenv(<span class="pl-s"><span class="pl-pds">"</span>HOME<span class="pl-pds">"</span></span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/.nuke<span class="pl-pds">"</span></span>
<span class="pl-k">if</span> os.path.exists(snapr_path <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/snapshotr<span class="pl-pds">"</span></span>):
    nuke.pluginAddPath(snapr_path)
    <span class="pl-k">print</span> <span class="pl-s"><span class="pl-pds">"</span>~ Loading Snapshotr into the Nuke...<span class="pl-pds">"</span></span>
    <span class="pl-k">import</span> snapshotr
<span class="pl-k">else</span>:
    <span class="pl-k">print</span> <span class="pl-s"><span class="pl-pds">"</span>! Snapshotr path can't be found, going on...<span class="pl-pds">"</span></span></pre></div>

<h2>
<a id="file-versioning" class="anchor" href="#file-versioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>File versioning</h2>

<p>This tool assumes that artist uses the following convention in naming scripts: <em>shot.user.task.v01.00.nk</em><br>
In case file is saved with incorrect name, it will display a warning message and panel will not load<br>
Each snapshot increases minor version by one (e.g v01.00 --&gt; v01.01)</p>

<h2>
<a id="nuke-panel" class="anchor" href="#nuke-panel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nuke panel</h2>

<p>After following steps above you will have a new panel called "Snapshotr"<br>
By default it is dockable, but it can be dragged out and used as a modal window:</p>

<p><img src="https://cloud.githubusercontent.com/assets/300146/5570169/83b73a34-8fb8-11e4-8f45-42d25097a31b.png" alt="snapshotr_main"></p>

<ul>
<li>
<strong>Comment field</strong> — Self-descriptive. Color can be specified as a hashtag (#green, #blue, etc)</li>
<li>
<strong>Instant</strong> — Makes snapshot using screenshot of current viewer, perceptually instant for a user</li>
<li>
<strong>Full</strong> — Makes full-res snapshot, image is rendered in background from the selected node. Custom LUT's are handled correctly. Whatever you have as input_process or/and viewer_process
will be converted to sRGB prior to render</li>
<li>
<strong>Open</strong> — Opens new browser tab with web-view</li>
<li>
<strong>Autosnap</strong> – Creates automatic instant snapshot every XX minutes</li>
<li>
<strong>Mark node</strong> — Marks selected node with color and current timestamp</li>
</ul>

<h2>
<a id="web-view" class="anchor" href="#web-view" aria-hidden="true"><span class="octicon octicon-link"></span></a>Web view</h2>

<p>Here is an example of a web page generated each time user manually initiated snapshot creation:</p>

<p><img src="https://cloud.githubusercontent.com/assets/300146/7670598/dbf51c0c-fcdc-11e4-9b2d-af5d08e9703c.png" alt="v020_webview"></p>

<p>By default snapshots are sorted from new to old, this can be changed by clicking "Time created" column header. Clicking "nk" button user can see a box with path to the .nk script. Clicking the image thumbnail, full-res version will be opened (limited to the screen width).</p>

<h2>
<a id="file-structure" class="anchor" href="#file-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>File structure</h2>

<p><img src="https://cloud.githubusercontent.com/assets/300146/7670600/30f23a6e-fcdd-11e4-870e-fcff797d8232.png" alt="v020_filelist"></p>

<p>Snapshots created in "snaps" directory that is relative to the current script path. So, if script is /projects/xxx/abc001.john.comp.v01.00.nk, then snapshots will be stored in /projects/xxx/snaps/<br>
After writing files to the filesystem they are chmod'ed to 0444  </p>

<h2>
<a id="debugging" class="anchor" href="#debugging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Debugging</h2>

<p><img src="https://cloud.githubusercontent.com/assets/300146/7670615/bd4a68e2-fcdd-11e4-940d-21498f9686ab.png" alt="v020_debug"></p>

<p>Snapshotr outputs reasonable amount of information to the Nuke script editor<br>
If you want more, change <code>DEV</code> variable to 1 or 2 (last one will output a lot)</p>

<h2>
<a id="performance" class="anchor" href="#performance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Performance</h2>

<p>On typical workstation this tool parses ~200 snapshots to the web-view per second</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/artaman/snapshotr">Snapshotr</a> is maintained by <a href="https://github.com/artaman">artaman</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

